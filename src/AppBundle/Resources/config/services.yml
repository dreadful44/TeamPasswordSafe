parameters:
    appbundle.menu_listener.class: AppBundle\EventListener\MenuListener
    appbundle.show_user_listener.class: AppBundle\EventListener\ShowUserListener



services:
    appbundle.foslistener:
        class: AppBundle\EventListener\FOSListener
        arguments: ['@router']
        tags:
            - { name: kernel.event_subscriber }

    app.form.registration:
        class: AppBundle\Form\RegistrationType
        tags:
            - { name: form.type, alias: app_user_registration }

    appbundle.menu_listener:
        class: %appbundle.menu_listener.class%
        arguments: [ '@translator', "@=service('security.token_storage').getToken().getUser()" ]
        tags:
            - { name: kernel.event_listener, event:theme.sidebar_setup_menu, method:onSetupMenu }

    appbundle.show_user_listener:
        class: %appbundle.show_user_listener.class%
        arguments: [ '@translator', "@=service('security.token_storage').getToken().getUser()" ]
        tags:
            - { name: kernel.event_listener, event: theme.sidebar_user, method: onShowUser}